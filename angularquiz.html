<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Angular UF5 (2.1–2.10) · Esquema + Quiz</title>
  <style>
    :root{
      --border:#e6e6e6;
      --muted:#444;
      --bg:#fff;
      --soft:#fafafa;
      --ok:#0a7a0a;
      --bad:#b00020;
    }
    body{ font-family: Arial, sans-serif; margin: 18px; line-height: 1.45; background: var(--bg); }
    h1{ margin: 0 0 6px; }
    h2{ margin-top: 22px; }
    .sub{ color: var(--muted); margin-top: 0; }
    .wrap{ max-width: 980px; margin: 0 auto; }

    .sticky{
      position: sticky; top: 0; background: var(--bg);
      padding: 10px 0; border-bottom: 1px solid var(--border); z-index: 10;
    }

    .panel{ border: 1px solid var(--border); border-radius: 12px; padding: 14px; background: var(--soft); }
    .panel p{ margin: 8px 0; }
    .grid{
      display: grid; gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      margin-top: 12px;
    }
    .card{
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px;
      background: var(--bg);
    }
    .card h3{ margin: 0 0 8px; font-size: 1.05rem; }
    .card ul{ margin: 8px 0 0 18px; }
    .tag{
      display: inline-block; font-size: .85em; padding: 2px 8px;
      border: 1px solid var(--border); border-radius: 999px; background: #fff;
      margin-left: 8px; color: #333;
    }

    .controls{ display:flex; gap:10px; flex-wrap:wrap; margin: 12px 0 4px; align-items:center;}
    button{
      padding: 10px 14px; border: 1px solid #333; border-radius: 10px;
      background: #fff; cursor: pointer;
    }
    button:hover{ background: #f3f3f3; }
    .scoreBox{
      display:inline-block; padding: 10px 12px; border: 1px solid var(--border);
      border-radius: 10px; background: #fff;
    }

    form{ margin-top: 14px; }
    .q-title{ font-weight: 700; margin-bottom: 8px; }
    .opt{ display:block; margin: 6px 0; }
    .small{ font-size: .95em; color: var(--muted); margin-top: 8px; }
    .ok{ color: var(--ok); font-weight: 700; }
    .bad{ color: var(--bad); font-weight: 700; }

    .explain{
      margin-top: 8px; padding: 10px; border-left: 4px solid var(--border);
      background: var(--soft); border-radius: 10px; display:none;
    }
    .show{ display:block; }

    .hr{ height:1px; background: var(--border); margin: 18px 0; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  </style>
</head>
<body>
<div class="wrap">

  <div class="sticky">
    <h1>Angular UF5 (2.1–2.10)</h1>
    <p class="sub">Esquema desarrollado + Quiz (25 preguntas)</p>
  </div>

  <!-- =========================
       ESQUEMA DESARROLLADO
  ========================== -->
  <section id="esquema" class="panel">
    <h2>Esquema desarrollado (para examen)</h2>
    <p><strong>Idea central:</strong> Angular es un <strong>framework</strong> para crear aplicaciones web <strong>SPA</strong> (cambian vistas sin recargar la página completa).</p>

    <div class="grid">
      <div class="card">
        <h3>2.1 ¿Qué es Angular?<span class="tag">concepto</span></h3>
        <ul>
          <li><strong>Framework</strong> (no librería) para construir apps SPA.</li>
          <li>Proporciona estructura: componentes, plantillas, routing y herramientas de build.</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.2 Angular CLI<span class="tag">herramienta</span></h3>
        <ul>
          <li>Herramienta oficial para <strong>crear</strong>, <strong>gestionar</strong> y <strong>automatizar</strong> tareas.</li>
          <li>Comandos típicos:
            <ul>
              <li><span class="mono">ng new</span> (crear proyecto)</li>
              <li><span class="mono">ng serve</span> (servidor de desarrollo)</li>
              <li><span class="mono">ng build</span> (producción / dist)</li>
              <li><span class="mono">ng g c</span> (generar componentes)</li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="card">
        <h3>2.3 Proyecto: crear y ejecutar<span class="tag">comandos</span></h3>
        <ul>
          <li><span class="mono">ng new</span>: crea estructura + instala dependencias (npm).</li>
          <li><span class="mono">ng serve</span>: desarrollo, compila en memoria, recarga automática.</li>
          <li><span class="mono">ng build</span>: genera <strong>dist/</strong> (resultado final).</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.4 TypeScript<span class="tag">base</span></h3>
        <ul>
          <li>Angular usa <strong>TypeScript</strong> (superset de JavaScript).</li>
          <li>Se transpila a JavaScript en el proceso de build.</li>
          <li>Permite clases y decoradores (ej. <span class="mono">@Component</span>).</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.5 Estructura de ficheros<span class="tag">muy típico</span></h3>
        <ul>
          <li><strong>src/</strong>: donde programas (código fuente).</li>
          <li><strong>node_modules/</strong>: librerías instaladas (no se edita).</li>
          <li><strong>dist/</strong>: salida de producción (ng build).</li>
          <li><strong>package.json</strong>: registra dependencias y scripts.</li>
          <li><strong>angular.json</strong>: configuración del proyecto.</li>
          <li><strong>main.ts</strong>: punto de entrada (arranque).</li>
          <li><strong>index.html</strong>: contenedor, tiene <span class="mono">&lt;app-root&gt;</span>.</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.6 Componentes<span class="tag">núcleo</span></h3>
        <ul>
          <li>Unidad básica de la UI.</li>
          <li>Partes: TS (lógica), HTML (plantilla), CSS (estilos).</li>
          <li><span class="mono">@Component</span> define el componente.</li>
          <li><span class="mono">selector</span> define la etiqueta (ej. <span class="mono">app-saludo</span>).</li>
          <li>El componente raíz (App) se inserta en <span class="mono">index.html</span> con <span class="mono">&lt;app-root&gt;</span>.</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.7 Plantillas y directivas<span class="tag">plantilla</span></h3>
        <ul>
          <li>Plantilla = HTML del componente (ej. <span class="mono">app.html</span>).</li>
          <li><span class="mono">{{"{{ }}"}}</span>: interpolación (mostrar datos) TS → HTML.</li>
          <li><span class="mono">(click)</span>: eventos HTML → TS.</li>
          <li>Directivas:
            <ul>
              <li><span class="mono">*ngIf</span> (condicional)</li>
              <li><span class="mono">*ngFor</span> (repetición)</li>
            </ul>
          </li>
        </ul>
      </div>

      <div class="card">
        <h3>2.8 Comunicación entre componentes<span class="tag">relación</span></h3>
        <ul>
          <li>Padre → Hijo: <span class="mono">@Input()</span> (pasa datos).</li>
          <li>Hijo → Padre: <span class="mono">@Output()</span> + <span class="mono">EventEmitter</span> (emite eventos).</li>
          <li>No relacionados: servicios compartidos (concepto).</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.9 Data binding<span class="tag">enlace</span></h3>
        <ul>
          <li>Conecta vista (HTML) y lógica (TS).</li>
          <li><strong>One-way</strong>:
            <ul>
              <li><span class="mono">{{"{{ }}"}}</span> (TS → HTML)</li>
              <li><span class="mono">[prop]</span> (TS → HTML)</li>
              <li><span class="mono">(event)</span> (HTML → TS)</li>
            </ul>
          </li>
          <li><strong>Two-way</strong>: <span class="mono">[(ngModel)]</span> (HTML ↔ TS)</li>
        </ul>
      </div>

      <div class="card">
        <h3>2.10 Routing y HTTP<span class="tag">final</span></h3>
        <ul>
          <li><strong>Routing</strong>: cambia vistas según URL sin recargar.</li>
          <li><span class="mono">&lt;router-outlet&gt;</span>: contenedor de la vista de la ruta.</li>
          <li><strong>HTTP</strong> (AJAX): comunicación con servidor sin recargar.</li>
          <li>Servicio típico: <span class="mono">HttpClient</span>.</li>
        </ul>
      </div>
    </div>

    <div class="hr"></div>

    <p class="small">
      <strong>Reglas rápidas para memorizar:</strong><br>
      • Se programa en <span class="mono">src/</span> · Se instala en <span class="mono">node_modules/</span> · Se genera en <span class="mono">dist/</span><br>
      • <span class="mono">index.html</span> solo contiene <span class="mono">&lt;app-root&gt;</span> · Los demás componentes se usan en plantillas (HTML de componentes)<br>
      • <span class="mono">{{"{{ }}"}}</span> muestra datos · <span class="mono">(click)</span> llama métodos · <span class="mono">*ngIf</span> condición · <span class="mono">*ngFor</span> repite
    </p>
  </section>

  <div class="hr"></div>

  <!-- =========================
       QUIZ
  ========================== -->
  <section id="quizZone">
    <h2>Quiz (25 preguntas)</h2>
    <p class="sub">Marca opciones y pulsa <strong>Corregir</strong>. Puedes mostrar/ocultar explicaciones.</p>

    <div class="controls">
      <button type="button" onclick="grade()">Corregir</button>
      <button type="button" onclick="resetQuiz()">Reset</button>
      <button type="button" onclick="toggleExplanations()">Mostrar/Ocultar explicaciones</button>
      <span class="scoreBox" id="scoreBox">Puntuación: —</span>
    </div>

    <form id="quiz"></form>
  </section>

</div>

<script>
  // ===== Datos del quiz (25 preguntas) =====
  const questions = [
    { id: 1,  text: "¿Qué es Angular?",
      options: { A:"Una librería JavaScript para manipular el DOM", B:"Un framework para el desarrollo de aplicaciones web SPA", C:"Un lenguaje de programación", D:"Un servidor web para aplicaciones JavaScript" },
      answer:"B", explain:"Angular es un framework completo orientado a aplicaciones SPA."
    },
    { id: 2,  text:"¿Cuál es la principal diferencia entre una librería y un framework?",
      options: { A:"Una librería es más moderna que un framework", B:"Un framework controla la estructura de la aplicación", C:"Una librería solo se usa en backend", D:"Un framework no permite reutilizar código" },
      answer:"B", explain:"En un framework, la estructura/flujo lo marca el framework; en una librería decides tú."
    },
    { id: 3,  text:"¿Para qué se utiliza Angular CLI?",
      options: { A:"Para ejecutar el código JavaScript en el navegador", B:"Para crear, configurar y gestionar proyectos Angular", C:"Para compilar código CSS", D:"Para sustituir a Node.js" },
      answer:"B", explain:"Angular CLI automatiza creación y tareas: ng new, ng serve, ng build, ng g c, etc."
    },
    { id: 4,  text:"¿Qué comando se utiliza para crear un nuevo proyecto Angular?",
      options: { A:"ng serve", B:"ng build", C:"ng new", D:"npm install angular" },
      answer:"C", explain:"ng new crea el proyecto y su estructura."
    },
    { id: 5,  text:"¿Qué función tiene el comando ng serve?",
      options: { A:"Generar la carpeta dist", B:"Arrancar un servidor de desarrollo y mostrar la aplicación", C:"Instalar las dependencias del proyecto", D:"Compilar TypeScript manualmente" },
      answer:"B", explain:"ng serve levanta un servidor de desarrollo (localhost) y recompila con cambios."
    },
    { id: 6,  text:"¿En qué carpeta se instalan las dependencias de un proyecto Angular?",
      options: { A:"src/", B:"dist/", C:"node_modules/", D:"angular.json" },
      answer:"C", explain:"node_modules contiene las librerías instaladas por npm."
    },
    { id: 7,  text:"¿En qué archivo se registran las dependencias de un proyecto Angular?",
      options: { A:"angular.json", B:"package.json", C:"node_modules", D:"tsconfig.json" },
      answer:"B", explain:"package.json registra dependencias y scripts; node_modules es donde se instalan."
    },
    { id: 8,  text:"¿Qué archivo se utiliza como punto de entrada de una aplicación Angular?",
      options: { A:"index.html", B:"app.component.ts", C:"main.ts", D:"angular.json" },
      answer:"C", explain:"main.ts es el punto de arranque que inicia Angular."
    },
    { id: 9,  text:"¿Qué archivo HTML contiene la etiqueta <app-root>?",
      options: { A:"app.html", B:"index.html", C:"main.ts", D:"angular.json" },
      answer:"B", explain:"index.html es el contenedor y contiene <app-root>."
    },
    { id:10, text:"¿Dónde se desarrolla principalmente la aplicación Angular?",
      options: { A:"En la carpeta node_modules", B:"En la carpeta dist", C:"En la carpeta src", D:"En el archivo angular.json" },
      answer:"C", explain:"src contiene el código fuente. dist es el resultado de producción (ng build)."
    },
    { id:11, text:"¿Qué es un componente en Angular?",
      options: { A:"Un archivo de configuración del proyecto", B:"Una unidad básica que controla una parte de la interfaz", C:"Una librería externa", D:"Un archivo HTML independiente sin lógica" },
      answer:"B", explain:"Los componentes son las unidades básicas de la interfaz en Angular."
    },
    { id:12, text:"¿Qué decorador se utiliza para definir un componente en Angular?",
      options: { A:"@NgModule()", B:"@Injectable()", C:"@Component()", D:"@Directive()" },
      answer:"C", explain:"@Component define un componente; @Injectable un servicio; @NgModule un módulo."
    },
    { id:13, text:"¿Qué propiedad del decorador @Component define el nombre de la etiqueta HTML del componente?",
      options: { A:"templateUrl", B:"styleUrls", C:"selector", D:"imports" },
      answer:"C", explain:"selector determina la etiqueta HTML con la que usas el componente."
    },
    { id:14, text:"¿Dónde se utiliza el selector de un componente?",
      options: { A:"En index.html siempre", B:"En la plantilla HTML de otro componente", C:"En angular.json", D:"En main.ts" },
      answer:"B", explain:"Se escribe en el HTML de otro componente (p.ej. app.html). index.html solo tiene <app-root>."
    },
    { id:15, text:"¿Qué permite la interpolación {{ }} en Angular?",
      options: { A:"Ejecutar sentencias if y for", B:"Mostrar valores del componente en la vista", C:"Modificar directamente el DOM", D:"Definir eventos del usuario" },
      answer:"B", explain:"{{ }} muestra valores/expresiones del TS en el HTML (one-way TS→HTML)."
    },
    { id:16, text:"¿Qué hace el event binding (click) en Angular?",
      options: { A:"Ejecuta código JavaScript libre", B:"Llama a un método del componente", C:"Cambia automáticamente el valor de una variable", D:"Importa componentes" },
      answer:"B", explain:"(click) enlaza el evento de clic del HTML con un método del componente (HTML→TS)."
    },
    { id:17, text:"¿Cuál es la función de la directiva *ngIf?",
      options: { A:"Repetir elementos HTML", B:"Mostrar u ocultar contenido según una condición", C:"Ejecutar funciones", D:"Importar componentes" },
      answer:"B", explain:"*ngIf controla si un bloque existe o no dependiendo de una condición."
    },
    { id:18, text:"¿Para qué se utiliza la directiva *ngFor?",
      options: { A:"Mostrar contenido condicional", B:"Repetir un elemento HTML para cada elemento de una lista", C:"Escuchar eventos del usuario", D:"Definir estilos dinámicos" },
      answer:"B", explain:"*ngFor repite un elemento para cada item en una colección."
    },
    { id:19, text:"¿Qué tipo de data binding representa [(ngModel)]?",
      options: { A:"One-way binding (TS → HTML)", B:"One-way binding (HTML → TS)", C:"Two-way binding (HTML ↔ TS)", D:"No es data binding" },
      answer:"C", explain:"[(ngModel)] sincroniza en ambos sentidos: vista y TS."
    },
    { id:20, text:"¿Cuál de las siguientes opciones es un ejemplo de one-way binding?",
      options: { A:"[(ngModel)]", B:"{{ dato }}", C:"[(dato)]", D:"(ngModel)" },
      answer:"B", explain:"Interpolación {{ }} es one-way binding TS→HTML."
    },
    { id:21, text:"¿Qué es una SPA (Single Page Application)?",
      options: { A:"Una aplicación que recarga la página en cada cambio", B:"Una aplicación que solo tiene un archivo HTML visible", C:"Una aplicación que cambia la vista sin recargar la página", D:"Una aplicación que solo funciona sin servidor" },
      answer:"C", explain:"SPA cambia vistas sin recargar la página completa; suele usar routing + AJAX."
    },
    { id:22, text:"¿Para qué sirve el enrutamiento (routing) en Angular?",
      options: { A:"Para instalar dependencias", B:"Para cambiar de vista según la URL sin recargar la página", C:"Para compilar TypeScript", D:"Para definir estilos globales" },
      answer:"B", explain:"Routing conecta URL con componentes/vistas en una SPA."
    },
    { id:23, text:"¿Qué elemento se utiliza en Angular para indicar dónde se cargan las vistas asociadas a las rutas?",
      options: { A:"<app-root>", B:"<router-outlet>", C:"<ng-view>", D:"<index-router>" },
      answer:"B", explain:"<router-outlet> es el contenedor donde Angular inserta el componente de la ruta activa."
    },
    { id:24, text:"¿Para qué se utilizan las peticiones HTTP en Angular?",
      options: { A:"Para cambiar estilos dinámicamente", B:"Para comunicarse con el servidor y obtener o enviar datos", C:"Para navegar entre componentes", D:"Para compilar la aplicación" },
      answer:"B", explain:"HTTP sirve para obtener/enviar datos al servidor (AJAX), sin recargar la página."
    },
    { id:25, text:"¿Qué servicio utiliza Angular para realizar peticiones HTTP?",
      options: { A:"Router", B:"HttpClient", C:"EventEmitter", D:"NgModule" },
      answer:"B", explain:"HttpClient es el servicio estándar de Angular para peticiones HTTP."
    }
  ];

  const quizEl = document.getElementById("quiz");
  let explanationsVisible = false;

  function escapeHtml(str){
    return str
      .replaceAll("&","&amp;")
      .replaceAll("<","&lt;")
      .replaceAll(">","&gt;");
  }

  function render(){
    quizEl.innerHTML = "";
    questions.forEach(q => {
      const card = document.createElement("div");
      card.className = "card";
      card.id = "q" + q.id;

      const title = document.createElement("div");
      title.className = "q-title";
      title.textContent = `${q.id}. ${q.text}`;
      card.appendChild(title);

      Object.entries(q.options).forEach(([key, text]) => {
        const label = document.createElement("label");
        label.className = "opt";
        label.innerHTML = `
          <input type="radio" name="q${q.id}" value="${key}">
          <strong>${key}.</strong> ${escapeHtml(text)}
        `;
        card.appendChild(label);
      });

      const feedback = document.createElement("div");
      feedback.className = "small";
      feedback.id = `fb${q.id}`;
      card.appendChild(feedback);

      const exp = document.createElement("div");
      exp.className = "explain";
      exp.id = `ex${q.id}`;
      exp.textContent = q.explain;
      card.appendChild(exp);

      quizEl.appendChild(card);
    });
  }

  function grade(){
    let correct = 0;

    questions.forEach(q => {
      const chosen = document.querySelector(`input[name="q${q.id}"]:checked`);
      const fb = document.getElementById(`fb${q.id}`);
      const ex = document.getElementById(`ex${q.id}`);

      if(!chosen){
        fb.innerHTML = `<span class="bad">No respondida</span> · Correcta: <strong>${q.answer}</strong>`;
        ex.classList.toggle("show", explanationsVisible);
        return;
      }

      if(chosen.value === q.answer){
        correct++;
        fb.innerHTML = `<span class="ok">Correcta ✅</span>`;
      } else {
        fb.innerHTML = `<span class="bad">Incorrecta ❌</span> · Tu respuesta: <strong>${chosen.value}</strong> · Correcta: <strong>${q.answer}</strong>`;
      }
      ex.classList.toggle("show", explanationsVisible);
    });

    document.getElementById("scoreBox").textContent =
      `Puntuación: ${correct} / ${questions.length}`;
  }

  function resetQuiz(){
    document.querySelectorAll('input[type="radio"]').forEach(r => r.checked = false);
    questions.forEach(q => {
      document.getElementById(`fb${q.id}`).textContent = "";
      document.getElementById(`ex${q.id}`).classList.remove("show");
    });
    document.getElementById("scoreBox").textContent = "Puntuación: —";
  }

  function toggleExplanations(){
    explanationsVisible = !explanationsVisible;
    questions.forEach(q => {
      document.getElementById(`ex${q.id}`).classList.toggle("show", explanationsVisible);
    });
  }

  render();
</script>
</body>
</html>
